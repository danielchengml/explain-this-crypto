@model IEnumerable<ExplainThisCrypto.Models.Coin>

@{
    ViewData["Title"] = "Home Page";
}

<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"></script>


<script type="text/javascript">
    $(document).ready(function () {
        $("form").submit(function (event) {
            event.preventDefault();
            $("#FeaturedCoins").empty();
            $.ajax({
                url: '@Url.Action("GetFeaturedCoins")',
                type: 'GET',
                data: $(this).serialize(),
                dataType: 'json',
                success: function (result) {
                    console.log(result);

                    var stringResult = "<div id='myCarousel' class='carousel slide' data-ride='carousel' data-interval='6000'>< ol class='carousel-indicators' ><li data-target='#myCarousel' data-slide-to='0' class='active'></li><li data-target='#myCarousel' data-slide-to='1'></li><li data-target='#myCarousel' data-slide-to='2'></li><li data-target='#myCarousel' data-slide-to='3'></li></ol ><div class='carousel-inner' role='listbox'>";

                    for (var coin = 0; coin < 1; coin++) {
                        stringResult += "<div class='item active'><img src=" + result[coin].logo_url + " alt=" + result[coin].name + "Logo' class='img-responsive'  style='max-width:100px; max-height:100px'/> <div class='carousel-caption' role='option'> <h3>" + result[coin].name + "|| <em>" + result[coin].symbol + "</em></h3><p>" + result[coin].tagline + " <a class='btn btn-default' href='" + result[coin].website + "'>Learn More </a></p></div></div>"
                    }

                    stringResult +=
                        "</div>< a class='left carousel-control' href= '#myCarousel' role= 'button' data- slide='prev' ><span class='glyphicon glyphicon-chevron-left' aria-hidden='true'></span><span class='sr-only'>Previous</span></a ><a class='right carousel-control' href='#myCarousel' role='button' data-slide='next'><span class='glyphicon glyphicon-chevron-right' aria-hidden='true'></span><span class= 'sr-only'>Next</span></a></div >";

                    $("#FeaturedCoins").html(stringResult);
                }

            });

        });
        $("form").submit();
    });
</script>

@using (Html.BeginForm()) { }

<div id="FeaturedCoins">

</div>

<br />
@foreach (var coin in Model)
{
    <div class="well">
        <div class="row">
            <div class="col-md-2">
                <img src="@Html.DisplayFor(x => coin.Logo_url)" style="max-width:100px; max-height:100px" />
            </div>
            <div class="col-md-8">
                <h3><strong>@Html.DisplayFor(x => coin.Name) </strong><em>|| @Html.DisplayFor(x => coin.Symbol) </em></h3>
                <h4>@Html.DisplayFor(x => coin.Tagline)</h4>
            </div>

        </div>
    </div>
}


